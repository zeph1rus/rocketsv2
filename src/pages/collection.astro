---
import { getCollection } from "astro:content";
import Layout from '../layouts/Layout.astro';
const posts = await getCollection("posts");

---
<Layout title="collection test">
    {
        posts.map((post) => (
            <div>
                <h2>{post.data.title}</h2>
                <p>{post.data.date}</p>
                <a href={'posts/' + post.slug}>Read more</a>
            </div>
        ))
    }
</Layout>